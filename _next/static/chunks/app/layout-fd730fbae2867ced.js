(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{187:(e,t,o)=>{"use strict";o.d(t,{default:()=>l});var r=o(5155),a=o(2115);let n="ipo-gmp-theme";function l(){let[e,t]=(0,a.useState)(null);return((0,a.useEffect)(()=>{let e=localStorage.getItem(n);if("dark"===e||"light"===e)t(e),document.documentElement.setAttribute("data-theme",e);else{let e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";t(e),document.documentElement.setAttribute("data-theme",e)}},[]),e)?(0,r.jsx)("button",{"aria-label":"Toggle dark mode",onClick:()=>{let o="dark"===e?"light":"dark";t(o),document.documentElement.setAttribute("data-theme",o),localStorage.setItem(n,o)},style:{position:"fixed",top:"2vw",right:"2vw",zIndex:1e3,background:"dark"===e?"#23272e":"#fff",color:"dark"===e?"#e3e6eb":"#23272e",border:"1px solid #888",borderRadius:"50%",width:"3vw",height:"3vw",fontSize:"1.5vw",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",cursor:"pointer",transition:"background 0.2s, color 0.2s"},children:"dark"===e?"☀️":"\uD83C\uDF19"}):null}},347:()=>{},3295:(e,t,o)=>{Promise.resolve().then(o.t.bind(o,4147,23)),Promise.resolve().then(o.t.bind(o,8489,23)),Promise.resolve().then(o.t.bind(o,347,23)),Promise.resolve().then(o.bind(o,9207)),Promise.resolve().then(o.bind(o,9342)),Promise.resolve().then(o.bind(o,187))},4147:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_15f566",variable:"__variable_15f566"}},8489:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_be30e6",variable:"__variable_be30e6"}},9207:(e,t,o)=>{"use strict";o.d(t,{default:()=>i});var r=o(5155),a=o(2115);let n="ipo-gmp-token",l="https://encryption-hub.onrender.com/api/ipo-gmp/validate-token",i=e=>{let{children:t}=e,[o,i]=(0,a.useState)(!1),[s,c]=(0,a.useState)(""),[d,u]=(0,a.useState)(""),[m,f]=(0,a.useState)(!0);(0,a.useEffect)(()=>{let e=localStorage.getItem(n);if(!e)return void f(!1);(async()=>{try{let t=await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})});(await t.json()).success?i(!0):(console.warn("\uD83D\uDD12 Token is no longer valid. Locking."),localStorage.removeItem(n))}catch(e){console.warn("⚠️ Server unreachable. Gracefully unlocking."),i(!0)}finally{f(!1)}})()},[]),(0,a.useEffect)(()=>{if(!o)return;let e=setInterval(async()=>{let e=localStorage.getItem(n);if(e)try{let t=await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})});(await t.json()).success||(console.warn("\uD83D\uDD12 Revalidation failed. Locking user."),localStorage.removeItem(n),i(!1))}catch(e){console.log("\uD83D\uDD53 Revalidation skipped (offline)")}},3e5);return()=>clearInterval(e)},[o]);let h=async e=>{try{let t=await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})});(await t.json()).success?(localStorage.setItem(n,e),i(!0)):(u("❌ Invalid token. Please try again."),localStorage.removeItem(n))}catch(e){console.error("Server error:",e),u("⚠️ Could not reach server. Try again later.")}finally{f(!1)}};return o?(0,r.jsx)(r.Fragment,{children:t}):m?(0,r.jsx)("div",{style:{color:"#fff",padding:24},children:"\uD83D\uDD10 Validating access token..."}):(0,r.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"#111",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),u(""),s.trim()&&(f(!0),h(s.trim()))},style:{background:"#fff",padding:"2rem",borderRadius:"12px",boxShadow:"0 0 20px rgba(0,0,0,0.2)",display:"flex",flexDirection:"column",alignItems:"center",minWidth:"300px"},children:[(0,r.jsx)("h2",{style:{marginBottom:"1rem",color:"#222"},children:"Enter Access Token"}),(0,r.jsx)("input",{type:"password",placeholder:"Your access token",value:s,onChange:e=>c(e.target.value),style:{fontSize:"1rem",padding:"0.5rem 1rem",borderRadius:"8px",border:"1px solid #ccc",marginBottom:"1rem",width:"100%"},autoFocus:!0}),(0,r.jsx)("button",{type:"submit",style:{fontSize:"1rem",padding:"0.5rem 1.5rem",borderRadius:"8px",background:"#007a3d",color:"#fff",border:0,cursor:"pointer"},children:"Unlock"}),d&&(0,r.jsx)("div",{style:{color:"#c1121f",marginTop:"1rem"},children:d})]})})}},9342:(e,t,o)=>{"use strict";o.d(t,{default:()=>n});var r=o(5155),a=o(2115);let n=()=>{let[e,t]=(0,a.useState)("loading");return(0,a.useEffect)(()=>{let e=async()=>{try{let e=await fetch("https://encryption-hub.onrender.com/",{cache:"no-store"});t(e.ok?"up":"down")}catch(e){t("down")}};e();let o=setInterval(e,6e4);return()=>clearInterval(o)},[]),(0,r.jsx)("div",{title:"Encryption Hub: ".concat(e),style:{position:"fixed",top:12,left:12,zIndex:9999,background:"loading"===e?"#999":"up"===e?"#28a745":"#dc3545",borderRadius:"50%",width:12,height:12,boxShadow:"0 0 0 2px #fff, 0 0 6px rgba(0,0,0,0.2)",transition:"background 0.3s"}})}}},e=>{var t=t=>e(e.s=t);e.O(0,[896,441,684,358],()=>t(3295)),_N_E=e.O()}]);